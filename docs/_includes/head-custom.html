<style>
/* Navigation bar */
.docs-nav {
  background: #1b1f23;
  padding: 0;
  position: sticky;
  top: 0;
  z-index: 1000;
  border-bottom: 1px solid #30363d;
}

.docs-nav-container {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
}

.docs-nav-brand {
  color: #58a6ff;
  font-weight: 600;
  font-size: 16px;
  text-decoration: none;
  padding: 12px 0;
}

.docs-nav-brand:hover {
  color: #79c0ff;
}

.docs-nav-links {
  display: flex;
  gap: 4px;
  list-style: none;
  margin: 0;
  padding: 0;
}

.docs-nav-links a {
  color: #8b949e;
  text-decoration: none;
  padding: 12px 12px;
  font-size: 14px;
  border-bottom: 2px solid transparent;
  display: block;
  transition: all 0.2s;
}

.docs-nav-links a:hover {
  color: #c9d1d9;
  background: #21262d;
}

.docs-nav-links a.active {
  color: #58a6ff;
  border-bottom-color: #58a6ff;
}

.docs-nav-toggle {
  display: none;
  background: none;
  border: none;
  color: #8b949e;
  font-size: 24px;
  cursor: pointer;
  padding: 8px;
}

/* Mobile styles */
@media (max-width: 768px) {
  .docs-nav-toggle {
    display: block;
  }

  .docs-nav-links {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: #1b1f23;
    flex-direction: column;
    border-bottom: 1px solid #30363d;
    padding: 8px 0;
  }

  .docs-nav-links.open {
    display: flex;
  }

  .docs-nav-links a {
    padding: 12px 16px;
    border-bottom: none;
  }

  .docs-nav-links a:hover,
  .docs-nav-links a.active {
    background: #21262d;
    border-bottom: none;
  }
}

/* Code block copy button */
.code-header {
  display: flex;
  justify-content: flex-end;
  background: #1b1f23;
  border-radius: 6px 6px 0 0;
  padding: 4px 8px;
  margin-top: 16px;
}

.copy-btn {
  background: #30363d;
  border: 1px solid #484f58;
  border-radius: 4px;
  color: #8b949e;
  cursor: pointer;
  font-size: 12px;
  padding: 4px 8px;
  transition: all 0.2s;
}

.copy-btn:hover {
  background: #484f58;
  color: #c9d1d9;
}

.copy-btn.copied {
  background: #238636;
  border-color: #238636;
  color: #fff;
}

/* Adjust pre styling when wrapped */
.code-wrapper pre {
  margin-top: 0;
  border-radius: 0 0 6px 6px;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Create navigation bar
  const nav = document.createElement('nav');
  nav.className = 'docs-nav';
  nav.innerHTML = `
    <div class="docs-nav-container">
      <a href="/BetterPGVectorN8N/" class="docs-nav-brand">pgvector-advanced</a>
      <button class="docs-nav-toggle" aria-label="Toggle navigation">☰</button>
      <ul class="docs-nav-links">
        <li><a href="/BetterPGVectorN8N/">Home</a></li>
        <li><a href="/BetterPGVectorN8N/installation">Install</a></li>
        <li><a href="/BetterPGVectorN8N/quick-start">Quick Start</a></li>
        <li><a href="/BetterPGVectorN8N/operations">Operations</a></li>
        <li><a href="/BetterPGVectorN8N/docker">Docker</a></li>
        <li><a href="/BetterPGVectorN8N/api-reference">API</a></li>
        <li><a href="/BetterPGVectorN8N/troubleshooting">Help</a></li>
        <li><a href="https://github.com/aaron777collins/BetterPGVectorN8N">GitHub</a></li>
      </ul>
    </div>
  `;
  document.body.insertBefore(nav, document.body.firstChild);

  // Mobile toggle
  const toggle = nav.querySelector('.docs-nav-toggle');
  const links = nav.querySelector('.docs-nav-links');
  toggle.addEventListener('click', function() {
    links.classList.toggle('open');
    toggle.textContent = links.classList.contains('open') ? '✕' : '☰';
  });

  // Highlight current page
  const currentPath = window.location.pathname;
  nav.querySelectorAll('.docs-nav-links a').forEach(function(link) {
    if (link.getAttribute('href') === currentPath ||
        (currentPath.endsWith('/') && link.getAttribute('href') === currentPath.slice(0, -1))) {
      link.classList.add('active');
    }
  });

  // Find all code blocks
  document.querySelectorAll('pre').forEach(function(pre) {
    // Skip if already wrapped
    if (pre.parentNode.classList.contains('code-wrapper')) return;

    // Create wrapper
    const wrapper = document.createElement('div');
    wrapper.className = 'code-wrapper';

    // Create header with copy button
    const header = document.createElement('div');
    header.className = 'code-header';

    const btn = document.createElement('button');
    btn.className = 'copy-btn';
    btn.textContent = 'Copy';
    btn.addEventListener('click', function() {
      const code = pre.querySelector('code') || pre;
      navigator.clipboard.writeText(code.textContent).then(function() {
        btn.textContent = 'Copied!';
        btn.classList.add('copied');
        setTimeout(function() {
          btn.textContent = 'Copy';
          btn.classList.remove('copied');
        }, 2000);
      });
    });

    header.appendChild(btn);

    // Wrap the pre element
    pre.parentNode.insertBefore(wrapper, pre);
    wrapper.appendChild(header);
    wrapper.appendChild(pre);
  });
});
</script>
